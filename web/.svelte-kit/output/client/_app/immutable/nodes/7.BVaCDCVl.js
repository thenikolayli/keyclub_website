import"../chunks/DsnmJJEf.js";import{d as me,o as ge,e as ae}from"../chunks/Dsa8zvjK.js";import{B as _e,C as V,D as we,g as E,E as xe,F as ye,H as be,G as le,I as ne,J as Z,K as U,L as Ee,M as ke,N as te,O as Me,P as Te,Q as $e,R as Ae,m as Ce,S as ie,T as de,U as Se,V as Ie,W as ce,X as We,Y as Ne,Z as Fe,_ as j,$ as he,a0 as He,a1 as Re,a2 as De,a3 as Oe,a4 as ze,p as Le,A as J,a5 as Ge,u as Pe,f as ve,a as Ve,d as X,e as $,s as G,t as se,b as oe,c as Ye,r as q,n as Be}from"../chunks/DABXHGZq.js";import{g as I,s as H,H as Ue,F as Xe,c as ue,b as K}from"../chunks/CC97BGXS.js";import{b as P}from"../chunks/CYlUxvXb.js";import{S as fe}from"../chunks/C4gmGO9R.js";import{a as qe}from"../chunks/NIGUFBhG.js";function Je(f,a){return a}function Ke(f,a,e){for(var u=f.items,m=[],i=a.length,s=0;s<i;s++)Re(a[s].e,m,!0);var p=i>0&&m.length===0&&e!==null;if(p){var h=e.parentNode;De(h),h.append(e),u.clear(),W(f,a[0].prev,a[i-1].next)}Oe(m,()=>{for(var M=0;M<i;M++){var g=a[M];p||(u.delete(g.k),W(f,g.prev,g.next)),he(g.e,!p)}})}function Qe(f,a,e,u,m,i=null){var s=f,p={flags:a,items:new Map,first:null};V&&we();var h=null,M=!1,g=new Map,C=xe(()=>{var r=e();return Se(r)?r:r==null?[]:de(r)}),t,w;function l(){Ze(w,t,p,g,s,m,a,u,e),i!==null&&(t.length===0?h?ce(h):h=te(()=>i(s)):h!==null&&We(h,()=>{h=null}))}_e(()=>{w??=ze,t=E(C);var r=t.length;if(M&&r===0)return;M=r===0;let x=!1;if(V){var N=ye(s)===be;N!==(r===0)&&(s=le(),ne(s),Z(!1),x=!0)}if(V){for(var y=null,n,v=0;v<r;v++){if(U.nodeType===Ee&&U.data===ke){s=U,x=!0,Z(!1);break}var b=t[v],_=u(b,v);n=re(U,p,y,null,b,_,v,m,a,e),p.items.set(_,n),y=n}r>0&&ne(le())}if(V)r===0&&i&&(h=te(()=>i(s)));else if(Me()){var R=new Set,F=Te;for(v=0;v<r;v+=1){b=t[v],_=u(b,v);var k=p.items.get(_)??g.get(_);k?pe(k,b,v):(n=re(null,p,null,null,b,_,v,m,a,e,!0),g.set(_,n)),R.add(_)}for(const[L,D]of p.items)R.has(L)||F.skipped_effects.add(D.e);F.add_callback(l)}else l();x&&Z(!0),E(C)}),V&&(s=U)}function Ze(f,a,e,u,m,i,s,p,h){var M=a.length,g=e.items,C=e.first,t=C,w,l=null,r=[],x=[],N,y,n,v;for(v=0;v<M;v+=1){if(N=a[v],y=p(N,v),n=g.get(y),n===void 0){var b=u.get(y);if(b!==void 0){u.delete(y),g.set(y,b);var _=l?l.next:t;W(e,l,b),W(e,b,_),ee(b,_,m),l=b}else{var R=t?t.e.nodes_start:m;l=re(R,e,l,l===null?e.first:l.next,N,y,v,i,s,h)}g.set(y,l),r=[],x=[],t=l.next;continue}if(pe(n,N,v),(n.e.f&j)!==0&&ce(n.e),n!==t){if(w!==void 0&&w.has(n)){if(r.length<x.length){var F=x[0],k;l=F.prev;var L=r[0],D=r[r.length-1];for(k=0;k<r.length;k+=1)ee(r[k],F,m);for(k=0;k<x.length;k+=1)w.delete(x[k]);W(e,L.prev,D.next),W(e,l,L),W(e,D,F),t=F,l=D,v-=1,r=[],x=[]}else w.delete(n),ee(n,t,m),W(e,n.prev,n.next),W(e,n,l===null?e.first:l.next),W(e,l,n),l=n;continue}for(r=[],x=[];t!==null&&t.k!==y;)(t.e.f&j)===0&&(w??=new Set).add(t),x.push(t),t=t.next;if(t===null)continue;n=t}r.push(n),l=n,t=n.next}if(t!==null||w!==void 0){for(var O=w===void 0?[]:de(w);t!==null;)(t.e.f&j)===0&&O.push(t),t=t.next;var Y=O.length;if(Y>0){var c=null;Ke(e,O,c)}}f.first=e.first&&e.first.e,f.last=l&&l.e;for(var d of u.values())he(d.e);u.clear()}function pe(f,a,e,u){$e(f.v,a),f.i=e}function re(f,a,e,u,m,i,s,p,h,M,g){var C=(h&Ne)!==0,t=(h&Fe)===0,w=C?t?Ce(m,!1,!1):ie(m):m,l=(h&Ie)===0?s:ie(s),r={i:l,v:w,k:i,a:null,e:null,prev:e,next:u};try{if(f===null){var x=document.createDocumentFragment();x.append(f=Ae())}return r.e=te(()=>p(f,w,l,M),V),r.e.prev=e&&e.e,r.e.next=u&&u.e,e===null?g||(a.first=r):(e.next=r,e.e.next=r.e),u!==null&&(u.prev=r,u.e.prev=r.e),r}finally{}}function ee(f,a,e){for(var u=f.next?f.next.e.nodes_start:e,m=a?a.e.nodes_start:e,i=f.e.nodes_start;i!==null&&i!==u;){var s=He(i);m.before(i),i=s}}function W(f,a,e){a===null?f.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}var je=ve('<button class="border-3 border-kcyellow text-black overflow-hidden"><img class="object-cover w-full h-full"/></button>'),et=()=>{location.reload(),scrollTo(0,0)},tt=(f,a)=>$(a,""),rt=ve(`<section><div><!></div> <header>Gallery</header> <section><section></section> <!></section> <h1><button>Refresh</button> &nbsp
        the page, it's different every time!</h1></section> <!> <img alt="Featured image"/> <button></button>`,1);function ft(f,a){Le(a,!0);let e=J(Ge([])),u=J("");const m=20;let i=J(6),s=J(6),p,h,M,g,C,t,w;const l=()=>{innerWidth<=640?($(i,2),$(s,14)):innerWidth>640&&innerWidth<=768?($(i,3),$(s,9)):innerWidth>768&&innerWidth<=1024?($(i,4),$(s,7)):innerWidth>1024&&innerWidth<=1280?($(i,5),$(s,6)):innerWidth>1280&&($(i,6),$(s,6))},r=(c,d)=>{console.log(d),I.to(`#${c}`,{transformOrigin:"center center",scale:d?1.3:1,filter:d?"blur(3px)":"blur(0px)",duration:.3,ease:"power2.out"})},x=(c,d,S)=>{if(c.length+d.length<S&&d.length>0){const T=Math.floor(Math.random()*d.length),o=d.splice(T,1)[0];let z,B=[];if(o.width>o.height?z="horizontal":o.height>o.width?z="vertical":z=["horizontal","vertical"][Math.floor(Math.random()*2)],z==="horizontal"){const A=Math.floor(o.width/2),Q=o.width-A;B.push({x:o.x,y:o.y,width:A,height:o.height}),B.push({x:o.x+A,y:o.y,width:Q,height:o.height})}else if(z==="vertical"){const A=Math.floor(o.height/2),Q=o.height-A;B.push({x:o.x,y:o.y,width:o.width,height:A}),B.push({x:o.x,y:o.y+A,width:o.width,height:Q})}for(const A of B)A.width===1&&A.height===1?c.push(A):d.push(A);return x(c,d,S)}else{let T=c.concat(d);return T.sort((o,z)=>o.y-z.y||o.x-z.x),T}};ge(async()=>{I.registerPlugin(fe),w=parseFloat(getComputedStyle(document.documentElement).fontSize),document.title="Gallery";const c=await qe({method:"get",url:"/api/get_photos"});$(e,c.data,!0),addEventListener("resize",l),l(),I.set(t,{backdropFilter:"blur(10px)"}),I.set(g,{scale:1.3,transformOrigin:"center center"});const d=I.timeline({scrollTrigger:{trigger:M,start:`${2*w} top`},defaults:{ease:"power2.out"}});return d.to(C,{scale:.8,duration:.7},0),d.to(C,{yPercent:-140,duration:.7},.05),d.to(t,{backdropFilter:"blur(0px)",duration:1,onComplete:()=>I.set(t,{display:"none"})},.2),d.to(g,{scale:1,duration:1},.2),()=>{removeEventListener("resize",l),fe.getAll().forEach(S=>S.kill())}}),Pe(()=>{E(u)!==""?(I.set([p,h],{display:"block",opacity:0}),I.to([p,h],{opacity:1,duration:.5,ease:"power2.out"})):I.to([p,h],{opacity:0,duration:.2,ease:"power2.out",onComplete:()=>{I.set([p,h],{display:"none"})}})});var N=rt(),y=Ve(N);H(y,1,"overflow-hidden flex flex-col items-center");var n=X(y);H(n,1,"relative z-20 w-full");var v=X(n);Ue(v,{}),q(n);var b=G(n,2);H(b,1,"z-10 absolute text-kcyellow text-8xl md:text-[10rem] tracking-wide top-[17rem]"),P(b,c=>C=c,()=>C);var _=G(b,2);H(_,1,"xl:grid p-4 md:p-8 gap-4 md:gap-8 relative w-full h-[200vh] bg-white text-white overflow-hidden");var R=X(_);H(R,1,"z-0 absolute w-full h-full"),P(R,c=>t=c,()=>t);var F=G(R,2);Qe(F,17,()=>x([],[{x:0,y:0,width:E(i),height:E(s)}],m),Je,(c,d,S)=>{var T=je();T.__mouseover=()=>r(`image-${S}`,!0),T.__click=()=>$(u,E(e)[S],!0);var o=X(T);K(o,"id",`image-${S}`),q(T),se(()=>{ue(T,`
                          grid-column-start: ${E(d).x+1};
                          grid-column: span ${E(d).width??""} / span ${E(d).width??""};
                          grid-row-start: ${E(d).y+1};
                          grid-row: span ${E(d).height??""} / span ${E(d).height??""};
                    `),K(o,"src",E(e)[S]),K(o,"alt",E(e)[S])}),ae("mouseleave",T,()=>r(`image-${S}`,!1)),ae("focus",T,()=>null),oe(c,T)}),q(_),P(_,c=>g=c,()=>g);var k=G(_,2);H(k,1,"text-black text-center text-4xl my-4");var L=X(k);H(L,1,"cursor-pointer underline"),L.__click=[et],Be(),q(k),q(y),P(y,c=>M=c,()=>M);var D=G(y,2);Xe(D);var O=G(D,2);H(O,1,"fixed z-30 max-w-[80vw] max-h-[80vh] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 border-3 border-kcyellow object-contain"),P(O,c=>p=c,()=>p);var Y=G(O,2);Y.__click=[tt,u],H(Y,1,"fixed z-20 top-0 left-0 backdrop-blur-sm w-screen h-screen cursor-default"),P(Y,c=>h=c,()=>h),se(()=>{ue(_,`
                        display: grid;
                        grid-template-columns: repeat(${E(i)??""}, minmax(0, 1fr));
                        grid-template-rows: repeat(${E(s)??""}, minmax(0, 1fr));
                    `),K(O,"src",E(u))}),oe(f,N),Ye()}me(["mouseover","click"]);export{ft as component};
